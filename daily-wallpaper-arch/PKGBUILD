# Maintainer: Simone Simonella <xsimone97@hotmail.it>

pkgname=daily-wallpaper
pkgver=1.0
pkgrel=1
pkgdesc="A simple Python script that changes the wallpaper daily for Hyprland"
arch=('any')
url="https://github.com/your-username/daily-wallpaper"
license=('MIT')
depends=('python' 'python-requests' 'hyprpaper' 'systemd' 'sudo')
makedepends=('git')
install="${pkgname}.install"
source=("daily-wallpaper.py"
        "daily-wallpaper.service"
        "daily-wallpaper.timer"
        "update-wallpaper.sh")
sha256sums=('SKIP' 'SKIP' 'SKIP' 'SKIP')

package() {
  # Create directories
  install -dm755 "${pkgdir}/usr/share/backgrounds"
  install -dm755 "${pkgdir}/usr/local/bin"
  
  # Install the script
  install -Dm755 "${srcdir}/daily-wallpaper.py" "${pkgdir}/usr/local/bin/daily-wallpaper.py"
  install -Dm755 "${srcdir}/update-wallpaper.sh" "${pkgdir}/usr/local/bin/update-wallpaper.sh"
  
  # Install systemd service and timer
  install -Dm644 "${srcdir}/daily-wallpaper.service" "${pkgdir}/usr/lib/systemd/system/daily-wallpaper.service"
  install -Dm644 "${srcdir}/daily-wallpaper.timer" "${pkgdir}/usr/lib/systemd/system/daily-wallpaper.timer"
  
  # Create a directory for the wallpaper
  install -dm755 "${pkgdir}/usr/share/backgrounds"
}